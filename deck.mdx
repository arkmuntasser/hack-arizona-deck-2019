import { Head } from 'mdx-deck'
import { Image } from 'mdx-deck'
import { CodeSurfer } from "mdx-deck-code-surfer"

export { swiss as theme } from 'mdx-deck/themes'

<Head>
  <title>Building a Scalable Component Library</title>
</Head>

import Header1 from './components/Header1'

<Header1>Building a Scalable Component Library</Header1>

---

<img src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5MTMu%0D%0ANSAxNDQiPgoJPHBhdGggZmlsbD0iI2JlYmViZSIgZD0iTTkwNywxMTUuODhhNi42Miw2LjYyLDAs%0D%0AMSwxLTYuNDQsNi42MkE2LjUzLDYuNTMsMCwwLDEsOTA3LDExNS44OFptMCwxMmE1LjM5LDUuMzks%0D%0AMCwxLDAtNS4xMS01LjM5QTUuMjEsNS4yMSwwLDAsMCw5MDcsMTI3Ljg5Wm0tMi4yMS04LjgzaDIu%0D%0ANjNhMiwyLDAsMCwxLDIuMTYsMi4wOCwxLjgzLDEuODMsMCwwLDEtMS4yNSwxLjgydjBhMi4zMywy%0D%0ALjMzLDAsMCwxLC4yMy4zOWwxLjMxLDIuNTJoLTEuNDFsLTEuMjctMi42NWgtMS4xMXYyLjY1aC0x%0D%0ALjI5Wm0yLjM3LDMuMjRhMSwxLDAsMCwwLDEuMTEtMS4xNiwxLDEsMCwwLDAtMS4xMS0xLjFoLTEu%0D%0AMDh2Mi4yNloiLz4KCTxwYXRoIGZpbGw9IiM4ZGM2M2YiIGQ9Ik04NTAuNTIsODAuODlhOTAuMyw5%0D%0AMC4zLDAsMCwxLTI3LjA5LDQ3LjMyLDgyLjc2LDgyLjc2LDAsMCwwLDc0LjQ1LDExLjYzQTgyLjU3%0D%0ALDgyLjU3LDAsMCwwLDg1MC41Miw4MC44OVoiLz4KCTxwYXRoIGZpbGw9IiMwMGE0ZTQiIGQ9Ik03%0D%0AMzYuMzEsMTM5Ljg2YTgyLjgsODIuOCwwLDAsMCw3NC40Ni0xMS42NSw5MC4xOCw5MC4xOCwwLDAs%0D%0AMS0yNy4xLTQ3LjMxQTgyLjUzLDgyLjUzLDAsMCwwLDczNi4zMSwxMzkuODZaIi8+Cgk8cGF0aCBm%0D%0AaWxsPSIjYmViZWJlIiBkPSJNNzkyLjg0LDc4Ljg1YTgwLjgxLDgwLjgxLDAsMCwwLDI0LjI2LDQy%0D%0ALjQyLDgwLjg3LDgwLjg3LDAsMCwwLDI0LjI1LTQyLjQyQTc5LjcxLDc5LjcxLDAsMCwwLDc5Mi44%0D%0ANCw3OC44NVoiLz4KCTxwYXRoIGZpbGw9IiNmZGI5MjQiIGQ9Ik04MTcuMSwwYTgyLjI5LDgyLjI5%0D%0ALDAsMCwwLTI3LjU2LDYxLjU0LDcyLjIxLDcyLjIxLDAsMCwwLC40OSw4LjM1LDg5LjMsODkuMyww%0D%0ALDAsMSw1NC4xMywwLDcyLjE3LDcyLjE3LDAsMCwwLC41LTguMzVBODIuMjksODIuMjksMCwwLDAs%0D%0AODE3LjEsMFoiLz4KCTxwYXRoIGZpbGw9IiMxYTFhMWEiIGQ9Ik02MjEuNTYsNDAuMTNoMTUuMTVs%0D%0AMTUuNDUsNTIuMjNjMS4xOCwzLjgzLDEuNzcsOCwxLjkyLDhoLjI5YTc5LjQ2LDc5LjQ2LDAsMCwx%0D%0ALDEuOTEtOGwxNi4xOC01Mi4wOGgxMy4xbDE2LDUyLjA4YzEuMTcsMy44MywyLjA2LDgsMi4wNiw4%0D%0ASDcwNGE1OS45Myw1OS45MywwLDAsMSwxLjc3LThsMTUuNTktNTIuMjNoMTVsLTI0LDc0LjQ1SDY5%0D%0ANi41OUw2ODEuMTQsNjYuNzZjLTEuMTctMy44Mi0yLjA2LTguMDktMi4wNi04LjA5aC0uMjlzLS44%0D%0AOCw0LjI3LTIuMDYsOC4wOWwtMTUuMyw0Ny44Mkg2NDUuNTRaTTM5Mi4yMSwzOC4zN2MyMSwwLDMy%0D%0ALjIyLDE1LjU5LDMyLjIyLDM0Ljg3LDAsMS45MS0uNDQsNi4xOC0uNDQsNi4xOEgzNjkuN2MuNzQs%0D%0AMTYuMzMsMTIuMzYsMjQuNTYsMjUuNiwyNC41NiwxMi44LDAsMjIuMDctOC42OCwyMi4wNy04LjY4%0D%0AbDUuODgsMTAuNDVhNDQuMyw0NC4zLDAsMCwxLTI4LjgzLDEwLjU5Yy0yMy4zOSwwLTM5LjQzLTE2%0D%0ALjkyLTM5LjQzLTM5QzM1NSw1My42NywzNzEsMzguMzcsMzkyLjIxLDM4LjM3Wm0xNy42NiwzMC4z%0D%0AMWMtLjQ1LTEyLjgtOC4zOS0xOS0xNy45NS0xOS0xMC44OSwwLTE5LjcyLDYuNzctMjEuNzgsMTla%0D%0AbS04OC40Mi01OGgxNC4yN1Y5MS43N2MwLDksMy41MywxMC42LDcuOTQsMTAuNmEyMi4xMiwyMi4x%0D%0AMiwwLDAsMCwyLjUtLjE1djEyLjY1YTQwLjQ2LDQwLjQ2LDAsMCwxLTQuNy4yOWMtOC4wOSwwLTIw%0D%0ALTIuMi0yMC0yMC44OFpNNi45MSw5NS4zQTMyLDMyLDAsMCwwLDI4LjI1LDEwNGM2LjE4LDAsMTIu%0D%0AMzYtMy4yMywxMi4zNi05LjI2QzQwLjYxLDgxLDIuMzYsODMuODMsMi4zNiw1OS41NSwyLjM2LDQ2%0D%0ALDE0LjQyLDM4LjM3LDI5LjI4LDM4LjM3YzE2LjMzLDAsMjQsOC4yNCwyNCw4LjI0TDQ3LjUyLDU3%0D%0ALjM1cy02LjYyLTYuNjItMTguMzktNi42MmMtNi4xOCwwLTEyLjIxLDIuNjUtMTIuMjEsOS4xMiww%0D%0ALDEzLjM5LDM4LjI1LDEwLjQ0LDM4LjI1LDM0Ljg3LDAsMTIuMzUtMTAuNTksMjEuNjItMjYuOTIs%0D%0AMjEuNjJDMTAsMTE2LjM0LDAsMTA1LjQ2LDAsMTA1LjQ2Wm05OC4yOC01NS4xN0gxMTlWNTBhNTEu%0D%0ANSw1MS41LDAsMCwxLS4zLDUuNDVoLjNjMy41My04LjY4LDE0LTE3LjA3LDI1LjYtMTcuMDcsMTIu%0D%0ANSwwLDE5Ljg2LDUuNzQsMjIuMzYsMTYuOTJoLjI5YTMwLDMwLDAsMCwxLDI2LjQ4LTE2LjkyYzE2%0D%0ALjc3LDAsMjQuNTcsOS41NiwyNC41NywyOC41NHY0Ny42N0gyMDQuMDVWNzBjMC0xMC40NS0yLjA2%0D%0ALTE4LjY4LTEzLjI0LTE4LjY4LTEwLjQ1LDAtMTguMjQsOC44Mi0yMC44OSwxOWE0NC4yMSw0NC4y%0D%0AMSwwLDAsMC0xLDEwLjN2MzRIMTU0LjYyVjcwYzAtOS43MS0xLjQ3LTE4LjY4LTEzLTE4LjY4LTEw%0D%0ALjg4LDAtMTguNTMsOS0yMS4zMywxOS41NmE0MS40NCw0MS40NCwwLDAsMC0uODgsOS43MXYzNEgx%0D%0AMDUuMTlabTEzMC43OCwwaDEzLjA5djYuMzNhNTIuOTIsNTIuOTIsMCwwLDEtLjI5LDUuNDRoLjI5%0D%0AczYuMzMtMTMuNTMsMjUtMTMuNTNjMjAsMCwzMi42NiwxNS44OSwzMi42NiwzOSwwLDIzLjY4LTE0%0D%0ALjI3LDM5LTMzLjY5LDM5LTE2LjMzLDAtMjIuODEtMTIuMjEtMjIuODEtMTIuMjFIMjUwcy4yOSwy%0D%0ALjY1LjI5LDYuNDdWMTQ0SDIzNlptMzQuODcsNjRjMTEuNzcsMCwyMS40OC05LjcxLDIxLjQ4LTI2%0D%0ALjYzLDAtMTYuMTgtOC42OC0yNi42My0yMS0yNi42My0xMS4xOCwwLTIxLjQ4LDcuOC0yMS40OCwy%0D%0ANi43OEMyNDkuOCw5MC44OSwyNTcuMTYsMTA0LjEzLDI3MC44NCwxMDQuMTNabS0xOTkuMjctNjRI%0D%0AODUuODR2NzQuNDVINzEuNTdabTcuMTQtMjkuNDJhOC44Myw4LjgzLDAsMSwwLDguODIsOC44M0E4%0D%0ALjgzLDguODMsMCwwLDAsNzguNzEsMTAuNzFaTTU4MiwzOC4zN2MyMSwwLDMyLjIyLDE1LjU5LDMy%0D%0ALjIyLDM0Ljg3LDAsMS45MS0uNDQsNi4xOC0uNDQsNi4xOEg1NTkuNDhjLjczLDE2LjMzLDEyLjM2%0D%0ALDI0LjU2LDI1LjYsMjQuNTYsMTIuOCwwLDIyLjA3LTguNjgsMjIuMDctOC42OEw2MTMsMTA1Ljc1%0D%0AYTQ0LjMsNDQuMywwLDAsMS0yOC44MywxMC41OWMtMjMuNCwwLTM5LjQzLTE2LjkyLTM5LjQzLTM5%0D%0AQzU0NC43Nyw1My42Nyw1NjAuOCwzOC4zNyw1ODIsMzguMzdabTE3LjY1LDMwLjMxYy0uNDQtMTIu%0D%0AOC04LjM4LTE5LTE3Ljk0LTE5LTEwLjg5LDAtMTkuNzIsNi43Ny0yMS43OCwxOVpNNDMxLjc5LDQw%0D%0ALjEzaDE1LjE1TDQ2NSw5MC40NWMxLjQ3LDQuMTIsMi4zNiwxMC4xNSwyLjUxLDEwLjE1aC4yOWMu%0D%0AMTUsMCwxLjE4LTYsMi42NS0xMC4xNWwxOC4wOS01MC4zMmgxNWwtMjcuNTEsNzQuNDVINDU5LjU5%0D%0AWm04NS4yNSwwaDE0LjI3djc0LjQ1SDUxN1ptNy4xMy0yOS40MkE4LjgzLDguODMsMCwxLDAsNTMz%0D%0ALDE5LjU0LDguODIsOC44MiwwLDAsMCw1MjQuMTcsMTAuNzFaIi8+Cjwvc3ZnPg==' width="400" />
<p>We build websites... like a lot of websites</p>

---

import Number from './components/Number'

<Number>54</Number>
<small>websites built and launched in 2018</small>

```notes
  That's just over 1 per week.

  Pace = Looking to be more efficient

  No loss in quality
```

---

Simpleview Component Library

---

import Deets from './components/Deets'

<Deets></Deets>

---

import { Appear } from 'mdx-deck'

Goals for our Component Library

<ul>
  <Appear>
    <li>Tightly integrated with our CMS.</li>
    <li>Provide a better experience for our developers.</li>
    <li>Improve code quality and accessibility on our sites.</li>
  </Appear>
</ul>

```notes
  Simple Goals
```

---

import Header2 from './components/Header2'

<Header2>Writing Better Code Made Easy</Header2>

---

*Code examples are **NOT** production ready.*

---

### Links

---

import { Invert } from 'mdx-deck/layouts'

export default Invert

<CodeSurfer
  title="Links are easy!"
  code={require("!raw-loader!./snippets/link-example-basic.html")}
  lang="html"
  showNumbers={false}
  dark={true}
/>

---

But it's missing attributes like:

<ul>
  <Appear>
    <li>target</li>
    <li>rel</li>
    <li>title</li>
  </Appear>
</ul>

---

Components can and should be used to enforce best practices/accessibility.

---

export default Invert

<CodeSurfer
  title="hyperlink component"
  code={require("!raw-loader!./snippets/hyperlink.vue")}
  lang="html"
  showNumbers={false}
  dark={true}
  steps={[
    { notes: "" },
    { range: [15, 18], notes: "A prop to pass through our link object from the CMS" },
    { range: [20, 33], notes: "Some computed properties to get our attribute values" },
    { range: [2, 9], notes: "We render a simple anchor with all attributes in place" }
  ]}
/>

---

export default Invert

<CodeSurfer
  title="Instead of writing this..."
  code={require("!raw-loader!./snippets/link-example-bad.html")}
  lang="html"
  showNumbers={false}
  dark={true}
/>

---

export default Invert

<CodeSurfer
  title="Devs can write this..."
  code={require("!raw-loader!./snippets/link-example-good.html")}
  lang="html"
  showNumbers={false}
  dark={true}
/>

---

### Images

---

Issues:

<ul>
  <Appear>
    <li>No lazy-loading standard</li>
    <li>Didn't take advantage of picture tag to provide responsive images</li>
  </Appear>
</ul>

---

#### Lazy-loading

---

export default Invert

<CodeSurfer
  title="hyperimage component"
  code={require("!raw-loader!./snippets/hyperimage-lazy-loading.vue")}
  lang="html"
  showNumbers={false}
  dark={true}
  steps={[
    { notes: "" },
    { range: [13, 24], notes: "On mounted, we setup an Intersection Observer" },
    { range: [17, 20], notes: "If the element is in the viewport, we flip the enteredViewport flag to true." },
    { lines: [2], notes: "When enteredViewport is true, we render the image." }
  ]}
/>

---

#### Responsive Images

---

export default Invert

<CodeSurfer
  title="hyperimage component"
  code={require("!raw-loader!./snippets/hyperimage-responsive.vue")}
  lang="html"
  showNumbers={false}
  dark={true}
  steps={[
    { notes: "" },
    { range: [3, 6], notes: "We iterate over an array of sizes and set the sources" },
    { notes: "No more double checking MDN for how to use picture" }
  ]}
/>

---

export default Invert

<CodeSurfer
  title="Devs now write this..."
  code={require("!raw-loader!./snippets/image-example-good.html")}
  lang="html"
  showNumbers={false}
  dark={true}
/>

---

Awesome! Super helpful components!

---

But now what?

---

<Header2>A Saas Frontend to match our SaaS Backend</Header2>

---

import { Split } from 'mdx-deck/layouts'

export default Split

<div
  style={{
    padding: '12rem'
  }}
>
  <h3>Simpleview CMS</h3>
  It's a SaaS (Software as a Service) platform!
</div>
<img
  style={{
    display: 'block',
    width: '100%'
  }}
  src='https://github.com/arkmuntasser/hack-arizona-deck-2019/blob/master/assets/screenshot-cms.png?raw=true'
/>

---

#### The Focal Point Debacle

---

Focal point enabled the user to select the focus on an image so that cropping applied to the image would center around the focus.

---

Every client got it instantly and it was a totally smooth release...

---

...is what I would like to say

---

It required a very minor **single line update** to enable on the frontend

---

<Appear>
  <span>1 line...&nbsp;</span>
  <span>per widget...&nbsp;</span>
  <span>per client...</span>
</Appear>

---

Roughly a dozen widgets per sites...

---

And a few hundred clients...

---

Never again!

---

The hyperimage component to the rescue!

---

Components in our library live outside of the client site's individual codebase and gets pushed to their sites.

---

Update the component once, and everyone gets it

---

It doesn't stop there!

---

Our component library contains these foundational components, as well as widgets, and apps.

---

Clients can now get regular frontend updates along with regular backend updates.

---

A component library at scale.

---

<Header2>We're Hiring</Header2>
<span>
  <a style={{textDecoration: 'none', color: '#EC407A'}} href='https://www.simpleviewinc.com/our-world/staff/join-our-team/' target='_blank'>Check out the Simpleview Careers page</a>
</span>

---

<Header2>Thank you!</Header2>

Follow me: @arkmuntasser on Twitter and other internet places